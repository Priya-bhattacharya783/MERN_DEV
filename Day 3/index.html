<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <!-- Simple form to accept name, age, email and submit it to the server -->
    <form action="/submit" method="POST">
        <label for="roll">roll:</label>
        <input type="number" id="roll" name="roll"><br><br>
        <label for="name">Name:</label>
        <input type="text" id="name" name="name"><br><br>
        <label for="age">Age:</label>
        <input type="number" name="age" id="age"><br><br>
        <input type="submit" value="Submit">
    </form>

    <!-- Div to display the details of the users -->
    <div id="users"></div>
    
</body>

<!-- <script>
    // fetch the data from the server and display it in the div
    const users = document.getElementById('users');
    // Fetch details using try catch:-
    async function fetchUsers() {
        try {
            const response = await fetch('/users');
            const data = await response.json();
            data.forEach(user => {
                const div = document.createElement('div');
                div.textContent = user.name + ' ' + user.age;
                users.appendChild(div);
            });
        } catch (error) {
            console.log(error);
        }
    }
    fetchUsers();
</script> -->
</html>


<!-- <script>
// update the details of the user using put request
const form = document.querySelector('form');
form.addEventListener('submit', (e)=>{
    e.preventDefault();
    const roll = document.getElementById('roll').value;
    const name = document.getElementById('name').value;
    const age = document.getElementById('age').value;
    fetch(`/users/${roll}`, {
        method: 'PUT',
        headers: {
            'Content-Type': 'application/json'
        },
        body: JSON.stringify({name, age})
    });
});
</script> -->